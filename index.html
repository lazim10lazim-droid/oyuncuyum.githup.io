<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ã–zÃ¼r Labirenti</title>
<style>
body {
  margin: 0;
  padding: 0;
  background: radial-gradient(circle at center, #ffd6d6, #ff9e9e);
  font-family: 'Poppins', sans-serif;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

/* Labirent */
#game {
  width: 600px;
  height: 600px;
  background: #fff3f3;
  border: 3px solid #d9534f;
  display: grid;
  grid-template-columns: repeat(10, 1fr);
  grid-template-rows: repeat(10, 1fr);
  position: relative;
  box-shadow: 0 0 30px rgba(0,0,0,0.3);
}
.cell {
  border: 1px solid #ffd4d4;
  box-sizing: border-box;
}
.wall {
  background: #d9534f;
}
.player {
  background: #5cb85c;
  border-radius: 50%;
}
.goal {
  background: gold;
  border-radius: 50%;
}

/* Mesaj ekranÄ± */
#messageBox {
  display: none;
  flex-direction: column;
  align-items: center;
  text-align: center;
  background: rgba(255,255,255,0.95);
  padding: 40px;
  border-radius: 20px;
  box-shadow: 0 15px 30px rgba(0,0,0,0.3);
  width: 90%;
  max-width: 600px;
}
button {
  background: #d9534f;
  border: none;
  color: white;
  padding: 10px 20px;
  border-radius: 30px;
  margin: 10px;
  font-size: 1.2em;
  cursor: pointer;
  transition: 0.3s;
}
button:hover {
  background: #c9302c;
}

#apology {
  font-size: 1.1em;
  text-align: left;
  white-space: pre-line;
  color: #333;
  margin-top: 20px;
}
.falling-heart {
    position: absolute;
    font-size: 1.2em;
    color: #ff4b5c;
    top: -30px;
    animation: fall linear infinite, sway 2s ease-in-out infinite alternate;
}
@keyframes fall {
    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
}
@keyframes sway {
    0% { transform: translateX(0); }
    100% { transform: translateX(10px); }
}
</style>
</head>
<body>

<div id="game"></div>

<div id="messageBox">
  <div id="question"></div>
  <div id="result"></div>
</div>

<script>
const game = document.getElementById('game');
const size = 10;
const maze = [
  "##########",
  "#        #",
  "# ###### #",
  "# #    # #",
  "# # ## # #",
  "# # ## # #",
  "# #    # #",
  "# ###### #",
  "#        #",
  "##########"
];

let player = {x:1, y:1};
let goal = {x:8, y:8};

function drawMaze(){
  game.innerHTML = '';
  for(let y=0;y<size;y++){
    for(let x=0;x<size;x++){
      const cell = document.createElement('div');
      cell.classList.add('cell');
      if(maze[y][x]==="#") cell.classList.add('wall');
      if(player.x===x && player.y===y) cell.classList.add('player');
      if(goal.x===x && goal.y===y) cell.classList.add('goal');
      game.appendChild(cell);
    }
  }
}

function move(dx,dy){
  const newX = player.x + dx;
  const newY = player.y + dy;
  if(maze[newY][newX]===" ") {
    player.x = newX;
    player.y = newY;
    drawMaze();
    if(player.x===goal.x && player.y===goal.y){
      showPreApology();
    }
  }
}

document.addEventListener('keydown',e=>{
  if(e.key==="ArrowUp") move(0,-1);
  if(e.key==="ArrowDown") move(0,1);
  if(e.key==="ArrowLeft") move(-1,0);
  if(e.key==="ArrowRight") move(1,0);
});

drawMaze();

// Ã–n adÄ±m: Mert Ã¶zÃ¼r yazÄ±sÄ±
function showPreApology() {
  document.getElementById('game').style.display = 'none';
  const messageBox = document.getElementById('messageBox');
  messageBox.style.display = 'flex';
  const q = document.getElementById('question');
  q.innerHTML = `
    <h2>Ben Mert, cidden Ã¶zÃ¼r dilerim. Beni dinler misin?</h2>
    <button onclick="showPrankStep()">Evet</button>
  `;
}

// Åaka adÄ±mÄ±
function showPrankStep() {
  const q = document.getElementById('question');
  q.innerHTML = `
    <h2>ÅakalandÄ±n ğŸ˜†</h2>
    <button onclick="showFinalChoice()">Komik miydi?</button>
  `;
}

// Komik miydi kutucuÄŸu tÄ±klandÄ±ÄŸÄ±nda asÄ±l seÃ§enekleri gÃ¶ster
function showFinalChoice(){
  const q = document.getElementById('question');
  q.innerHTML = `
    <h2>Beni dinlemek ister misin?</h2>
    <button onclick="answer(true)">Evet</button>
    <button onclick="answer(false)">HayÄ±r</button>
  `;
}

// Ã–zÃ¼r metni
const apologyText = `Ben ahmaklÄ±k yapÄ±p yanlÄ±ÅŸ bilgi aktarÄ±mÄ± yaptÄ±m bender. Asla Ã¶yle bir ÅŸey olmadÄ±. Ben sana yapmam bunu. Ben seni yarabandÄ± olarak kullanÄ±r mÄ±yÄ±m hiÃ§ ben ya ben. AylardÄ±r o kadar beraber geÃ§ti gÃ¼nÃ¼mÃ¼z bunu mu layÄ±k gÃ¶rdÃ¼n bana Ã¼zÃ¼ldÃ¼m ya vallahi Ã¼zÃ¼ldÃ¼m. EylÃ¼l gelsin desin yarabandÄ± ama senin demen beni Ã¼zdÃ¼. Beni tanÄ±yamadÄ±n mÄ± hiÃ§. Ani kararlar hayatÄ±mÄ± boka gÃ¶tÃ¼rÃ¼yor. Seni bir arkadaÅŸÄ±m, yoldaÅŸÄ±m olarak gÃ¶rmÃ¼ÅŸtÃ¼m. Ve ben herkesle bu ÅŸekilde olan bir insan bile deÄŸilim. O gÃ¼n mesajÄ±na bile cevap vermeyecektim mesela, bÃ¶yle biriyim ben. Ama senle Ã§ok gÃ¼zel bir arkadaÅŸlÄ±ÄŸÄ±mÄ±z oldu, bunu kabul edelim. GeÃ§ bunu bir kÄ±za yapmam, sana yapar mÄ±yÄ±m? Senin duygularÄ±nÄ± kÃ¶tÃ¼ye kullanÄ±r mÄ±yÄ±m? Ben sence bu kadar duygusuz biri miyim. ArkadaÅŸ kalmayÄ±, sevgilimi olmayÄ± bir kenara bÄ±rak. Ä°nsan olarak beni hiÃ§ tanÄ±madÄ±n mÄ±. KaÃ§ gÃ¼ndÃ¼r kendimi yiyiorum, kaÃ§ dal sigara iÃ§tim, uyuyamÄ±yorum. Åu an bile o kadar uykum olmama raÄŸmen bunu hazÄ±rlÄ±yorum. Sana yazmayacaÄŸÄ±m dediÄŸim iÃ§in. 3,5 saatlik uykuyla saatlerdir buna uÄŸraÅŸÄ±yorum, dÄ±ÅŸarda masanÄ±n Ã¼stÃ¼nde belim aÄŸrÄ±yana kadar bunu yazdÄ±m, ÅŸablonlarÄ± hazÄ±rlamaya Ã§alÄ±ÅŸtÄ±m. Bana gÃ¶rdÃ¼ÄŸÃ¼n zeval bu mu lÃ¼tfen. Kendimi Ã§ok iyi bir insan olarak hiÃ§ tanÄ±mlamadÄ±m, tanÄ±mlamÄ±yorum ama cidden kalpsiz miyim. Hele ki ÅŸu an bunu hazÄ±rlÄ±yorum, bunu yapmak yerine yarabandÄ± iÃ§in kÄ±z bile bakabilir, flÃ¶rtleÅŸebilirdim. Ama cidden bu kadar aÅŸaÄŸÄ±lÄ±k mÄ±yÄ±m ben sÃ¶ylesene. BunlarÄ± dÃ¼ÅŸÃ¼nÃ¼p tartmanÄ± istiyorum. Bu son dinleyiÅŸin artÄ±k aramÄ±zda konuÅŸma falan olmayacak, merak etme.`

// Cevap fonksiyonu
function answer(isYes){
  const q = document.getElementById('question');
  const r = document.getElementById('result');
  q.style.display='none';
  r.innerHTML='';
  if(isYes){
    const p = document.createElement('p');
    p.id='apology';
    r.appendChild(p);
    typeWriter(apologyText,p);
  } else {
    r.innerHTML='<h2>Ben puÅŸtum ğŸ’€</h2>';
  }
}

// YazÄ± efekti
function typeWriter(text, element, index = 0){
  if(index < text.length){
    element.innerHTML += text.charAt(index);
    setTimeout(()=>typeWriter(text,element,index+1),20);
  }
}

// DÃ¼ÅŸen kalpler
function createFallingHeart() {
  const heart = document.createElement('div');
  heart.className='falling-heart';
  heart.style.left=Math.random()*window.innerWidth+'px';
  heart.style.fontSize=(15+Math.random()*20)+'px';
  heart.style.animationDuration=(4+Math.random()*3)+'s';
  heart.innerHTML='â¤ï¸';
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),7000);
}
setInterval(createFallingHeart,500);
</script>
</body>
</html>
